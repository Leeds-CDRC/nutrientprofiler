<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Preprocessing input data â€¢ nutrientprofiler</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Preprocessing input data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nutrientprofiler</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/nutrientprofiler.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/custom_specific_gravity.html">Custom specific gravity</a></li>
    <li><a class="dropdown-item" href="../articles/handling_input_data.html">Handling input data</a></li>
    <li><a class="dropdown-item" href="../articles/nutrientprofile_assessment.html">Nutrient Profile Model Assessment</a></li>
    <li><a class="dropdown-item" href="../articles/nutrientprofile_scoring.html">Nutrient Profile Model Scoring</a></li>
    <li><a class="dropdown-item" href="../articles/parameter_guide.html">Parameter guide</a></li>
    <li><a class="dropdown-item" href="../articles/preprocessing.html">Preprocessing input data</a></li>
    <li><a class="dropdown-item" href="../articles/specific_gravity.html">Specific Gravity Adjustment</a></li>
    <li><a class="dropdown-item" href="../articles/workflows.html">Example HPC workflow and troubleshooting</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Leeds-CDRC/nutrientprofiler/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Preprocessing input data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Leeds-CDRC/nutrientprofiler/blob/main/vignettes/preprocessing.Rmd" class="external-link"><code>vignettes/preprocessing.Rmd</code></a></small>
      <div class="d-none name"><code>preprocessing.Rmd</code></div>
    </div>

    
    
<p>For this guidance, we are going to use an example dataset called
<code>example_data</code>. Please see the detailed documentation on what
parameter names and values are expected or required, and to see the
workflows explaining how to load in data.</p>
<p>This example data has a few typos in certain categories. This
documentations steps through one example workflow for filtering and
checking your input data before using the <code>nutrientprofiler</code>
library to analyse it.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load in required libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://leeds-cdrc.github.io/nutrientprofiler/">nutrientprofiler</a></span><span class="op">)</span></span>
<span><span class="co"># read in the data</span></span>
<span><span class="va">example_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"data/example_data.csv"</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="checking-input-data-column-names">Checking input data column names<a class="anchor" aria-label="anchor" href="#checking-input-data-column-names"></a>
</h2>
<p>While there are an array of functions to check parameter names and
missing parameters, it is useful to be able to manually check your input
data with base R or a library like tidyr or dplyr additionally.</p>
<p>You can check what column names are in your loaded dataframe using
base R:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Print out your data column names</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">example_data</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "name"                    "brand"                  </span></span>
<span><span class="co">#&gt;  [3] "product_category"        "product_type"           </span></span>
<span><span class="co">#&gt;  [5] "food_type"               "drink_format"           </span></span>
<span><span class="co">#&gt;  [7] "drink_type"              "nutrition_info"         </span></span>
<span><span class="co">#&gt;  [9] "energy_measurement_kj"   "energy_measurement_kcal"</span></span>
<span><span class="co">#&gt; [11] "sugar_measurement_g"     "satfat_measurement_g"   </span></span>
<span><span class="co">#&gt; [13] "salt_measurement_g"      "sodium_measurement_mg"  </span></span>
<span><span class="co">#&gt; [15] "fibre_measurement_nsp"   "fibre_measurement_aoac" </span></span>
<span><span class="co">#&gt; [17] "protein_measurement_g"   "fvn_measurement_percent"</span></span>
<span><span class="co">#&gt; [19] "weight_g"                "volume_ml"              </span></span>
<span><span class="co">#&gt; [21] "volume_water_ml"</span></span></code></pre></div>
<p>You can compare these parameter names to the expected parameters that
<code>nutrientprofiler</code> uses for analysis using the
<code><a href="../reference/inputDataCheck.html">inputDataCheck()</a></code> function:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/inputDataCheck.html">inputDataCheck</a></span><span class="op">(</span><span class="va">example_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "All required column names found. Proceed with analysis."</span></span></code></pre></div>
<p>If required, parameter names can be fixed at this point using the
<code><a href="../reference/parameterRename.html">parameterRename()</a></code> and <code><a href="../reference/fillMissingParameters.html">fillMissingParameters()</a></code>
functions.</p>
</div>
<div class="section level2">
<h2 id="checking-input-data-values">Checking input data values<a class="anchor" aria-label="anchor" href="#checking-input-data-values"></a>
</h2>
<p>Next, you can use the <code><a href="../reference/CheckValues.html">CheckValues()</a></code> function to produce
an overview of the values stored in your dataframe:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">overview_of_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/CheckValues.html">CheckValues</a></span><span class="op">(</span><span class="va">example_data</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">overview_of_values</span><span class="op">)</span></span>
<span><span class="co">#&gt;             Parameter_name Count_unique_values</span></span>
<span><span class="co">#&gt; 1                     name                  10</span></span>
<span><span class="co">#&gt; 2                    brand                   1</span></span>
<span><span class="co">#&gt; 3         product_category                   1</span></span>
<span><span class="co">#&gt; 4             product_type                   2</span></span>
<span><span class="co">#&gt; 5                food_type                   2</span></span>
<span><span class="co">#&gt; 6             drink_format                   5</span></span>
<span><span class="co">#&gt; 7               drink_type                   2</span></span>
<span><span class="co">#&gt; 8           nutrition_info                   5</span></span>
<span><span class="co">#&gt; 9    energy_measurement_kj                   3</span></span>
<span><span class="co">#&gt; 10 energy_measurement_kcal                   4</span></span>
<span><span class="co">#&gt; 11     sugar_measurement_g                   5</span></span>
<span><span class="co">#&gt; 12    satfat_measurement_g                   3</span></span>
<span><span class="co">#&gt; 13      salt_measurement_g                   3</span></span>
<span><span class="co">#&gt; 14   sodium_measurement_mg                   3</span></span>
<span><span class="co">#&gt; 15   fibre_measurement_nsp                   2</span></span>
<span><span class="co">#&gt; 16  fibre_measurement_aoac                   3</span></span>
<span><span class="co">#&gt; 17   protein_measurement_g                   5</span></span>
<span><span class="co">#&gt; 18 fvn_measurement_percent                   3</span></span>
<span><span class="co">#&gt; 19                weight_g                   3</span></span>
<span><span class="co">#&gt; 20               volume_ml                   4</span></span>
<span><span class="co">#&gt; 21         volume_water_ml                   2</span></span>
<span><span class="co">#&gt;                                                                                                                                                   Unique_values</span></span>
<span><span class="co">#&gt; 1  lembas, zeno's icecream, mystic rush, delta ringer drink, welter water, janus's drink, beta ringer drink, zeta ringer drink, heavyweight water, bantam water</span></span>
<span><span class="co">#&gt; 2                                                                                                                                                            NA</span></span>
<span><span class="co">#&gt; 3                                                                                                                                                            NA</span></span>
<span><span class="co">#&gt; 4                                                                                                                                                   Food, Drink</span></span>
<span><span class="co">#&gt; 5                                                                                                                                                   , Ice cream</span></span>
<span><span class="co">#&gt; 6                                                                                                                            , Ready, Powdered, Cordial, Powder</span></span>
<span><span class="co">#&gt; 7                                                                                                                                         , Carbted/juice drink</span></span>
<span><span class="co">#&gt; 8                                               , Preparation instructions given, As consumed, Prep. instructions not given, Preparation instructions not given</span></span>
<span><span class="co">#&gt; 9                                                                                                                                                  266, NA, 188</span></span>
<span><span class="co">#&gt; 10                                                                                                                                             NA, 24, 194, 205</span></span>
<span><span class="co">#&gt; 11                                                                                                                                           50, 21, 11, 15, 19</span></span>
<span><span class="co">#&gt; 12                                                                                                                                                     3, 11, 0</span></span>
<span><span class="co">#&gt; 13                                                                                                                                                NA, 0.08, 0.1</span></span>
<span><span class="co">#&gt; 14                                                                                                                                                 0.6, NA, 100</span></span>
<span><span class="co">#&gt; 15                                                                                                                                                        3, NA</span></span>
<span><span class="co">#&gt; 16                                                                                                                                                   NA, 0.7, 0</span></span>
<span><span class="co">#&gt; 17                                                                                                                                          7, 3.5, 0, 0.5, 0.1</span></span>
<span><span class="co">#&gt; 18                                                                                                                                                      0, 3, 6</span></span>
<span><span class="co">#&gt; 19                                                                                                                                                  100, NA, 25</span></span>
<span><span class="co">#&gt; 20                                                                                                                                              NA, 100, 50, 20</span></span>
<span><span class="co">#&gt; 21                                                                                                                                                      NA, 100</span></span></code></pre></div>
<p>You can read these and compare them to the parameter table provided
in the documentation, and can save the output to a csv file for future
reference:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">overview_of_values</span>, <span class="st">"path/to/output/file.csv"</span>, row.names<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>In this example, we have a few values with typos that will cause
issues:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">overview_of_values</span><span class="op">[</span><span class="fl">6</span>,<span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Parameter_name Count_unique_values                      Unique_values</span></span>
<span><span class="co">#&gt; 6   drink_format                   5 , Ready, Powdered, Cordial, Powder</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">overview_of_values</span><span class="op">[</span><span class="fl">7</span>,<span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Parameter_name Count_unique_values         Unique_values</span></span>
<span><span class="co">#&gt; 7     drink_type                   2 , Carbted/juice drink</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">overview_of_values</span><span class="op">[</span><span class="fl">8</span>,<span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Parameter_name Count_unique_values</span></span>
<span><span class="co">#&gt; 8 nutrition_info                   5</span></span>
<span><span class="co">#&gt;                                                                                                     Unique_values</span></span>
<span><span class="co">#&gt; 8 , Preparation instructions given, As consumed, Prep. instructions not given, Preparation instructions not given</span></span></code></pre></div>
<p>We have <code>Powder</code> instead of <code>Powdered</code>;
<code>Carbted/juice drink</code> instead of
<code>Carbonated/juice drink</code>; and
<code>Prep. instructions not given</code> instead of
<code>Preparation instructions not given</code>. For clear cases of
typos like this, we can easily replace all incorrect values.</p>
</div>
<div class="section level2">
<h2 id="fixing-typos">Fixing typos<a class="anchor" aria-label="anchor" href="#fixing-typos"></a>
</h2>
<p>We can easily fix typos in the dataset using the following script.
This is kept separate from applying new values or applying defaults as
is described in the <a href="../articles/handling_input_data.html#fill-missing-data">Handling
Input Data article</a>, where an additional column is added to record
where values were overwritten.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_data</span><span class="op">$</span><span class="va">drink_format</span><span class="op">[</span><span class="va">example_data</span><span class="op">$</span><span class="va">drink_format</span><span class="op">==</span><span class="st">"Powder"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Powdered"</span></span>
<span><span class="va">example_data</span><span class="op">$</span><span class="va">drink_type</span><span class="op">[</span><span class="va">example_data</span><span class="op">$</span><span class="va">drink_type</span><span class="op">==</span><span class="st">"Carbted/juice drink"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Carbonated/juice drink"</span></span>
<span><span class="va">example_data</span><span class="op">$</span><span class="va">nutrition_info</span><span class="op">[</span><span class="va">example_data</span><span class="op">$</span><span class="va">nutrition_info</span><span class="op">==</span><span class="st">"Prep. instructions not given"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Preparation instructions not given"</span></span></code></pre></div>
<p>After updating these in place, you can check again if you have
captured all the incorrect values:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/CheckValues.html">CheckValues</a></span><span class="op">(</span><span class="va">example_data</span><span class="op">)</span></span>
<span><span class="co">#&gt;             Parameter_name Count_unique_values</span></span>
<span><span class="co">#&gt; 1                     name                  10</span></span>
<span><span class="co">#&gt; 2                    brand                   1</span></span>
<span><span class="co">#&gt; 3         product_category                   1</span></span>
<span><span class="co">#&gt; 4             product_type                   2</span></span>
<span><span class="co">#&gt; 5                food_type                   2</span></span>
<span><span class="co">#&gt; 6             drink_format                   4</span></span>
<span><span class="co">#&gt; 7               drink_type                   2</span></span>
<span><span class="co">#&gt; 8           nutrition_info                   4</span></span>
<span><span class="co">#&gt; 9    energy_measurement_kj                   3</span></span>
<span><span class="co">#&gt; 10 energy_measurement_kcal                   4</span></span>
<span><span class="co">#&gt; 11     sugar_measurement_g                   5</span></span>
<span><span class="co">#&gt; 12    satfat_measurement_g                   3</span></span>
<span><span class="co">#&gt; 13      salt_measurement_g                   3</span></span>
<span><span class="co">#&gt; 14   sodium_measurement_mg                   3</span></span>
<span><span class="co">#&gt; 15   fibre_measurement_nsp                   2</span></span>
<span><span class="co">#&gt; 16  fibre_measurement_aoac                   3</span></span>
<span><span class="co">#&gt; 17   protein_measurement_g                   5</span></span>
<span><span class="co">#&gt; 18 fvn_measurement_percent                   3</span></span>
<span><span class="co">#&gt; 19                weight_g                   3</span></span>
<span><span class="co">#&gt; 20               volume_ml                   4</span></span>
<span><span class="co">#&gt; 21         volume_water_ml                   2</span></span>
<span><span class="co">#&gt;                                                                                                                                                   Unique_values</span></span>
<span><span class="co">#&gt; 1  lembas, zeno's icecream, mystic rush, delta ringer drink, welter water, janus's drink, beta ringer drink, zeta ringer drink, heavyweight water, bantam water</span></span>
<span><span class="co">#&gt; 2                                                                                                                                                            NA</span></span>
<span><span class="co">#&gt; 3                                                                                                                                                            NA</span></span>
<span><span class="co">#&gt; 4                                                                                                                                                   Food, Drink</span></span>
<span><span class="co">#&gt; 5                                                                                                                                                   , Ice cream</span></span>
<span><span class="co">#&gt; 6                                                                                                                                    , Ready, Powdered, Cordial</span></span>
<span><span class="co">#&gt; 7                                                                                                                                      , Carbonated/juice drink</span></span>
<span><span class="co">#&gt; 8                                                                             , Preparation instructions given, As consumed, Preparation instructions not given</span></span>
<span><span class="co">#&gt; 9                                                                                                                                                  266, NA, 188</span></span>
<span><span class="co">#&gt; 10                                                                                                                                             NA, 24, 194, 205</span></span>
<span><span class="co">#&gt; 11                                                                                                                                           50, 21, 11, 15, 19</span></span>
<span><span class="co">#&gt; 12                                                                                                                                                     3, 11, 0</span></span>
<span><span class="co">#&gt; 13                                                                                                                                                NA, 0.08, 0.1</span></span>
<span><span class="co">#&gt; 14                                                                                                                                                 0.6, NA, 100</span></span>
<span><span class="co">#&gt; 15                                                                                                                                                        3, NA</span></span>
<span><span class="co">#&gt; 16                                                                                                                                                   NA, 0.7, 0</span></span>
<span><span class="co">#&gt; 17                                                                                                                                          7, 3.5, 0, 0.5, 0.1</span></span>
<span><span class="co">#&gt; 18                                                                                                                                                      0, 3, 6</span></span>
<span><span class="co">#&gt; 19                                                                                                                                                  100, NA, 25</span></span>
<span><span class="co">#&gt; 20                                                                                                                                              NA, 100, 50, 20</span></span>
<span><span class="co">#&gt; 21                                                                                                                                                      NA, 100</span></span></code></pre></div>
<p><strong>Note that for a large dataset with thousands of values, the
number of unique values for numerical parameters such as
<code>weight_g</code> will be very high. Instead of printing the full
table, you should instead use subsets for your initial
overview.</strong> You can subset the overview table using code like
this:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">overview_of_values</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Parameter_name"</span>, <span class="st">"Count_unique_values"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt;             Parameter_name Count_unique_values</span></span>
<span><span class="co">#&gt; 1                     name                  10</span></span>
<span><span class="co">#&gt; 2                    brand                   1</span></span>
<span><span class="co">#&gt; 3         product_category                   1</span></span>
<span><span class="co">#&gt; 4             product_type                   2</span></span>
<span><span class="co">#&gt; 5                food_type                   2</span></span>
<span><span class="co">#&gt; 6             drink_format                   5</span></span>
<span><span class="co">#&gt; 7               drink_type                   2</span></span>
<span><span class="co">#&gt; 8           nutrition_info                   5</span></span>
<span><span class="co">#&gt; 9    energy_measurement_kj                   3</span></span>
<span><span class="co">#&gt; 10 energy_measurement_kcal                   4</span></span>
<span><span class="co">#&gt; 11     sugar_measurement_g                   5</span></span>
<span><span class="co">#&gt; 12    satfat_measurement_g                   3</span></span>
<span><span class="co">#&gt; 13      salt_measurement_g                   3</span></span>
<span><span class="co">#&gt; 14   sodium_measurement_mg                   3</span></span>
<span><span class="co">#&gt; 15   fibre_measurement_nsp                   2</span></span>
<span><span class="co">#&gt; 16  fibre_measurement_aoac                   3</span></span>
<span><span class="co">#&gt; 17   protein_measurement_g                   5</span></span>
<span><span class="co">#&gt; 18 fvn_measurement_percent                   3</span></span>
<span><span class="co">#&gt; 19                weight_g                   3</span></span>
<span><span class="co">#&gt; 20               volume_ml                   4</span></span>
<span><span class="co">#&gt; 21         volume_water_ml                   2</span></span></code></pre></div>
<p>This allows you to identify the categorical parameters (with
manageable numbers of unique values) and to print these rows
individually:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Printing using the row index</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">overview_of_values</span><span class="op">[</span><span class="fl">6</span>,<span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Parameter_name Count_unique_values                      Unique_values</span></span>
<span><span class="co">#&gt; 6   drink_format                   5 , Ready, Powdered, Cordial, Powder</span></span>
<span></span>
<span><span class="co"># Printing using the parameter name</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">overview_of_values</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">overview_of_values</span><span class="op">$</span><span class="va">Parameter_name</span> <span class="op">==</span> <span class="st">"drink_format"</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Parameter_name Count_unique_values                      Unique_values</span></span>
<span><span class="co">#&gt; 6   drink_format                   5 , Ready, Powdered, Cordial, Powder</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="check-validity-of-numeric-data">Check validity of numeric data<a class="anchor" aria-label="anchor" href="#check-validity-of-numeric-data"></a>
</h2>
<p>In order to check numeric values, you can use max and minimum values
(and measures of average if desired) to check that the values are within
the expected bounds by using basic mathematical functions on the column
of interest in the original product data dataframe:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"protein_measurement_g values"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "protein_measurement_g values"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Max:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">example_data</span><span class="op">$</span><span class="va">protein_measurement_g</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Max: 7"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Min.:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">example_data</span><span class="op">$</span><span class="va">protein_measurement_g</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Min.: 0"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Mean:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">example_data</span><span class="op">$</span><span class="va">protein_measurement_g</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Mean: 1.58"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Median:"</span>, <span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">example_data</span><span class="op">$</span><span class="va">protein_measurement_g</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Median: 0.5"</span></span></code></pre></div>
<p>Individual values can be interrogated, plotted against other
parameters using a graphics library like <code>ggplot</code>, and
replaced in a similar way to described above for the character-type
entries.</p>
<p>Please see the <a href="../articles/handling_input_data.html">Handling Input Data</a> for
further pre-processing steps beyond this point.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alex Coleman, Vicki Jenneson, Maeve Murphy Quinlan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
